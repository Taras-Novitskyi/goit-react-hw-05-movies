{"version":3,"file":"static/js/973.66a481e2.chunk.js","mappings":"mWAGaA,EAAeC,EAAAA,GAAAA,GAAH,oOAWZC,EAAOD,EAAAA,GAAAA,GAAH,gMAYJE,GAAOF,EAAAA,EAAAA,IAAOG,EAAAA,GAAPH,CAAH,kD,SCdJI,EAAkB,WAC7B,OAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAsCF,EAAAA,EAAAA,UAAS,GAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAwCJ,EAAAA,EAAAA,WAAS,GAAjD,eAAOK,EAAP,KAAqBC,EAArB,KACA,GAA4BN,EAAAA,EAAAA,WAAS,GAArC,eAAOO,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAAM,wCACd,4GAEIH,GAAU,GAFd,UAIYI,EAAAA,EAAAA,IAAmBT,GAJ/B,mBAGYU,EAHZ,EAGYA,QAASC,EAHrB,EAGqBA,YAAaC,EAHlC,EAGkCA,KAAMC,EAHxC,EAGwCA,cAIlCV,IADEQ,IAAgBC,GAAQC,EAAgB,KAI/B,IAATD,EAVR,wBAWMb,GAAS,SAAAe,GAAK,wBAAQA,IAAR,OAAkBJ,GAAlB,IAEdK,YAAW,YACTC,EAAAA,EAAAA,IACD,GAAE,KAfT,2BAmBIjB,EAASW,GAnBb,kDAqBIO,QAAQC,IAAR,MACAC,EAAAA,GAAAA,MAAY,8BAtBhB,yBAwBId,GAAU,GAxBd,8EADc,uBAAC,WAAD,wBA6Bde,EACD,GAAE,CAACpB,IAMJ,OACE,UAACqB,EAAA,EAAD,CAAKC,QAAQ,OAAOC,cAAc,SAASC,eAAe,SAA1D,WACE,SAACjC,EAAD,UACGO,GACCA,EAAM2B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACR,SAACnC,EAAD,WACE,SAACC,EAAD,CAAMmC,GAAE,iBAAYH,GAAMZ,MAAO,CAAEgB,KAAMxB,GAAzC,UACE,SAACyB,EAAA,EAAD,CAAgBL,GAAIA,EAAIC,MAAOA,EAAOK,OAAQJ,OAFvCF,EADH,MAQbtB,IAAU,SAAC6B,EAAA,EAAD,IACV/B,IAAiBE,IAChB,SAAC8B,EAAA,EAAD,CAAQC,KAAK,YAAYC,QAlBZ,WACjBnC,GAAe,SAAAa,GAAK,OAAIA,EAAQ,CAAZ,GACrB,MAoBF,EC/DD,EARa,WACZ,OACC,2BACC,SAAClB,EAAD,KAGF,C","sources":["components/TrandingGallery/TrandingGallery.styled.js","components/TrandingGallery/TrandingGallery.jsx","pages/Home/Home.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const TrandingList = styled.ul`\n  padding: 20px 20px;\n  margin: 0;\n  display: grid;\n  justify-content: center;\n  align-items: center;\n  grid-template-columns: auto auto auto;\n  gap: 32px;\n  background-color: rgb(243, 241, 241);\n`;\n\nexport const Item = styled.li`\n  list-style: none;\n  cursor: pointer;\n  width: 200px;\n\n  &:hover,\n  &:focus {\n    box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n    transform: scale(1.01);\n  }\n`;\n\nexport const Link = styled(NavLink)`\n  text-decoration: none;\n`;\n\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader/Loader';\nimport { FetchTrendingFilms } from 'services/fetchApi';\nimport { makeSmoothScroll } from 'services/makeSmoothScroll';\nimport { SmallMovieCard } from 'components/SmallMovieCard/SmallMovieCard';\nimport { Button } from 'components/Button/Button';\nimport { Box } from 'components/Box/Box';\nimport { TrandingList, Item, Link } from './TrandingGallery.styled';\n\n\nexport const TrandingGallery = () => {\n  const [films, setFilms] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showLoadMore, setShowLoadMore] = useState(false);\n  const [isLoad, setIsLoad] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    async function fetchAPI() {\n      try {\n        setIsLoad(true);\n        const { results, total_pages, page, total_results } =\n          await FetchTrendingFilms(currentPage);\n\n        if (total_pages === page || total_results < 20) {\n          setShowLoadMore(false);\n        } else { setShowLoadMore(true) };\n        \n        if (page !== 1) {\n          setFilms(state => [...state, ...results]);\n\n          setTimeout(() => {\n            makeSmoothScroll();\n          }, 300);\n          return;\n        }\n\n        setFilms(results);\n      } catch (error) {\n        console.log(error);\n        toast.error('Something wrong, try again');\n      } finally {\n        setIsLoad(false);\n      }\n    }\n\n    fetchAPI();\n  }, [currentPage]);\n\n  const changePage = () => {\n    setCurrentPage(state => state + 1);\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"center\">\n      <TrandingList>\n        {films &&\n          films.map(({ id, title, poster_path }) => (\n            <Item key={id}>\n              <Link to={`movies/${id}`} state={{ from: location }}>\n                <SmallMovieCard id={id} title={title} poster={poster_path} />\n              </Link>\n            </Item>\n          ))}\n      </TrandingList>\n      {isLoad && <Loader />}\n      {showLoadMore && !isLoad && (\n        <Button text=\"Load more\" onClick={changePage} />\n      )}\n    </Box>\n  );\n};\n","import { TrandingGallery } from \"components/TrandingGallery/TrandingGallery\";\n\nconst Home = () => {\n\treturn (\n\t\t<main>\n\t\t\t<TrandingGallery/>\n\t\t</main>\n\t)\n}\n\nexport default Home;"],"names":["TrandingList","styled","Item","Link","NavLink","TrandingGallery","useState","films","setFilms","currentPage","setCurrentPage","showLoadMore","setShowLoadMore","isLoad","setIsLoad","location","useLocation","useEffect","FetchTrendingFilms","results","total_pages","page","total_results","state","setTimeout","makeSmoothScroll","console","log","toast","fetchAPI","Box","display","flexDirection","justifyContent","map","id","title","poster_path","to","from","SmallMovieCard","poster","Loader","Button","text","onClick"],"sourceRoot":""}